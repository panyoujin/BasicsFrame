<?xml version="1.0" encoding="utf-8" ?>
<HCIP.AjaxDataSetting>

	<Data name="Get_MyShoppings">
		<SqlDefinition type="sql">
			<SqlCommand>
				<![CDATA[
SELECT `ID`,`Name`,`Description`,`Url`,`Price`,`NowPrice` FROM `TB_MB_Shopping`
WHERE `Status`=TRUE
<%=AND `Name` LIKE @@Name@@%>
<%=AND `Description` LIKE @@Description@@%>
ORDER BY `CreationDate` DESC
<%= LIMIT @@StartSize@@ , @@PageSize@@%>;
      ]]>
			</SqlCommand>
		</SqlDefinition>
	</Data>
  
  <Data name="Get_CheckKettle">
    <SqlDefinition type="sql">
      <SqlCommand>
        <![CDATA[
SELECT `ID`,`Name`,`Description`,`Version` FROM `TB_MB_Kettle`
WHERE `Status`=TRUE AND NAME=@@Name@@ And `Version`=@@Version@@;
      ]]>
      </SqlCommand>
    </SqlDefinition>
  </Data>
  
  <Data name="Insert_Kettle">
    <SqlDefinition type="sql">
      <SqlCommand>
        <![CDATA[
INSERT INTO `TB_MB_Kettle`(`Name`,`Description`,`Version`,`CreationUser`,`CreationDate`)
VALUES(@@Name@@,@@Description@@,@@Version@@,@@CreationUser@@,NOW());
      ]]>
      </SqlCommand>
    </SqlDefinition>
  </Data>
  
  <Data name="Get_CheckMyKettleRel">
    <SqlDefinition type="sql">
      <SqlCommand>
        <![CDATA[
SELECT `ID`,`MemberID`,`KettleID`,`Default`,`CreationUser`,`CreationDate` FROM TB_MB_MyKettleRel
WHERE MemberID=@@MemberID@@ and KettleID=@@KettleID@@;
      ]]>
      </SqlCommand>
    </SqlDefinition>
  </Data>
  <Data name="Insert_MyKettleRel">
    <SqlDefinition type="sql">
      <SqlCommand>
        <![CDATA[
INSERT INTO `TB_MB_MyKettleRel`(`MemberID`,`KettleID`,`Default`,`CreationUser`,`CreationDate`)
VALUES(@@MemberID@@,@@KettleID@@,@@Default@@,@@CreationUser@@,Now());
      ]]>
      </SqlCommand>
    </SqlDefinition>
  </Data>
</HCIP.AjaxDataSetting>