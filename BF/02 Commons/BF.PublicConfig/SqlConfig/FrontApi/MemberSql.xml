<?xml version="1.0" encoding="utf-8" ?>
<HCIP.AjaxDataSetting>

	<Data name="FrontApi_GetMemberInfoByAccount">
		<SqlDefinition type="sql">
			<SqlCommand>
				<![CDATA[
SELECT `ID`,`Account`,`Passwd`,`Name`,`Age`,`Birthday`,`Sex`,`Email`,`Phone`,`Remark`,`QQ`,`ImageUrl` FROM `TB_MB_MemberInfo` WHERE `Account`=@@Account@@ AND `Status`=TRUE;
      ]]>
			</SqlCommand>
		</SqlDefinition>
	</Data>

	<Data name="FrontApi_InsertMemberInfo">
		<SqlDefinition type="sql">
			<SqlCommand>
				<![CDATA[
INSERT INTO  `TB_MB_MemberInfo`(`Account`,`Passwd`,`Status`,`IsAuto`,`CreationDate`,`CreationUser`) VALUES(@@Account@@,@@Passwd@@,TRUE,FALSE,NOW(),@@Account@@);
      ]]>
			</SqlCommand>
		</SqlDefinition>
	</Data>

	<Data name="FrontApi_UpdateMemberInfo">
		<SqlDefinition type="sql">
			<SqlCommand>
				<![CDATA[
UPDATE TB_MB_MemberInfo 
SET <%=`Name`=@@Name@@,%><%=`Age`=@@Age@@,%><%=`Sex`=@@Sex@@,%><%=`Email`=@@Email@@,%><%=`Phone`=@@Phone@@,%>
<%=`QQ`=@@QQ@@,%><%=`ImageUrl`=@@ImageUrl@@,%> `ModificationDate`=NOW(),`ModificationUser`=@@ModifyUser@@
WHERE `ID`=@@ID@@ and `Status`=TRUE;
      ]]>
			</SqlCommand>
		</SqlDefinition>
	</Data>
	<Data name="FrontApi_UpdateMemberInfoPasswd">
		<SqlDefinition type="sql">
			<SqlCommand>
				<![CDATA[
UPDATE TB_MB_MemberInfo SET Passwd=@@NewPasswd@@, `ModificationDate`=NOW(),`ModificationUser`=@@ModifyUser@@
WHERE `ID`=@@ID@@ AND `Status`=TRUE AND `Passwd`=@@OldPasswd@@;
      ]]>
			</SqlCommand>
		</SqlDefinition>
	</Data>
</HCIP.AjaxDataSetting>